{% extends 'base.html' %}
{% load static %}

{% block scripts %}
  <script src="{% static 'login.js' %}" defer></script>
{% endblock %}

{% block content %}
<style>
  #img-element img {
    width: 500px;
    height: auto;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
  }
</style>

<div class="container mt-5">
  <div class="row gx-5">

    <!-- FACEâ€‘LOGIN PANEL -->
    <div class="col-md-6 text-center">
      <h4>Login with Face</h4>
      <video id="video-element" autoplay class="w-100 rounded border mb-3"></video>

      <!-- captured image goes here -->
      <div id="img-element" class="mb-3"></div>

      <div class="mt-3">
        <button id="capture-btn" class="btn btn-primary me-2">Take Photo</button>
        <button id="reload-btn" class="btn btn-secondary">Reload</button>
      </div>
      <p id="face-error" class="text-danger mt-2"></p>
    </div>

    <!-- USERNAME/PASSWORD PANEL -->
    <div class="col-md-6">
      <h4>Or login with Username &amp; Password</h4>
      <form method="post" novalidate>
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="mb-3">
          {{ form.username.label_tag }}
          {{ form.username }}
          {{ form.username.errors }}
        </div>
        <div class="mb-3">
          {{ form.password.label_tag }}
          {{ form.password }}
          {{ form.password.errors }}
        </div>
        <button type="submit" class="btn btn-success">Login</button>
      </form>
    </div>

  </div>
</div>
{% endblock %}
